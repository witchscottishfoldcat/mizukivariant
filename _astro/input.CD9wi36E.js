import{aa as b,ab as _,u as i,j as m,G as y,W as v,ac as h}from"./utils.DJr-jBEw.js";function E(a,l,u=l){var f=new WeakSet;b(a,"input",async r=>{var e=r?a.defaultValue:a.value;if(e=t(a)?o(e):e,u(e),v!==null&&f.add(v),await _(),e!==(e=l())){var d=a.selectionStart,c=a.selectionEnd,n=a.value.length;if(a.value=e??"",c!==null){var s=a.value.length;d===c&&c===n&&s>n?(a.selectionStart=s,a.selectionEnd=s):(a.selectionStart=d,a.selectionEnd=Math.min(c,s))}}}),(y&&a.defaultValue!==a.value||i(l)==null&&a.value)&&(u(t(a)?o(a.value):a.value),v!==null&&f.add(v)),m(()=>{var r=l();if(a===document.activeElement){var e=h??v;if(f.has(e))return}t(a)&&r===o(a.value)||a.type==="date"&&!r&&!a.value||r!==a.value&&(a.value=r??"")})}function t(a){var l=a.type;return l==="number"||l==="range"}function o(a){return a===""?null:+a}export{E as b};
